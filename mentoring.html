<!DOCTYPE html>
<html>
<!-- Author : Chloe Huang -->
<!-- Create Date : Sept 14, 2020 -->
<!-- Brugham Young University - Idaho -->
<!-- Total Hours :----------------->
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>News Letter Home Page</title>
  <meta name="description" content="David O. McKay Libary - Professional Development">
  <link rel="stylesheet" href="certificate.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>
<body>
  <script>
    var index = [];
    // Array starts with 0 but the id start with 0 so push a dummy value
    index.push(0);
    // Push 1 at index 1 since one child element is already created
    index.push(1)
    
    function addkid() {
      
      var div = document.createElement('div');
      var id = getID();
      // Set this attritube id so that we can access this element using Id 
      div.setAttribute("id","Div_"+id);
    
      div.innerHTML = ' Name : <input type="text" class="students" name="name' + id + '"/>' + ' <input type="button" class="button buttonAdd" id="add_kid()_' + id + '" onclick="addkid()" value="+" />' + ' <input type="button" class="button buttonRem" id="rem_kid()_' + id + '" onclick="remkid('+id+')" value="-" />';
      // inside of passing this parameter in remkid we pass id number
      document.getElementById('kids').appendChild(div);
    
    }
       
    function remkid(id) {
    // use the id arugment to get the div element using unique id set in addkid
      try{
    var element = document.getElementById("Div_"+id)
    element.parentNode.removeChild(element);
        index[id] = -1;
      //id number is = index of the array so we set to -1 to indicate its empty
        }
      catch(err){
        alert("id: Div_"+id)
        alert(err)
        
        }
    } 
    
    // There are four certificates, three of them use the same format, Professionalism uses the other one
    // Three format(Excellence, Leadership, Mentoring) is using 
    // Professionalism is using 
    // Two formats: one is for view version, the other one is for the print version
    // .print3Certificate{ date class: printLionDate || name class: printLionName || Image class:printLionImage }
    // .view3Certificate{ date class: viewLionDate || name class: viewLionName || Image class: viewLionImage }
    // .printProfessionalismCertificate{ date class: printLionDateP || name class: printLionNameP || Image class:printLionImageP }
    // .viewProfessionalismCertificate{ date class: viewLionDateP || name class: viewLionNameP || Image class: viewLionImageP }
    
    function editImage(studentnames = 0, date = 0){
    
      var certificate = document.getElementById("certificate");
      var allName = [];
      if(studentnames == 0){
        allName = document.querySelectorAll(".students");
        var allStudents = [];
    
        //collect the names from user's input
        allName.forEach(elem => {
        allStudents.push(elem.value)
      });
      allName = allStudents; 
    
      }
      else{
        allName = studentnames;
      }
    
     var getDate = 0;
     if(date ==0){
      var getDate = document.getElementById("getDate").value;
     }
      else{
        getDate = date;
      }
    
      console.dir(allName);
      allName.forEach(elem => {
    
          //put the image..................(the name of the class of the element)
          var div = document.createElement('div');
          var img = document.createElement("img");
          
    
          //element where to put the name
          var person = document.createElement("div");
          person.classList.add("mentoringNameV");
    
          //element where to put the date
          var date = document.createElement("div");
          date.classList.add("mentoringDateV");
    
    
          img.src = "pictures/mentoring.png";
          img.classList.add("mentoringImgeV");
          div.appendChild(img);
    
          //var name = document.getElementById("add_kid()_0").value;
          //put the name into person
          person.innerText = elem;
          console.dir(elem);
          div.appendChild(person);
    
          date.innerText = getDate;
          console.dir(getDate);
          div.appendChild(date);
    
          certificate.appendChild(div);
    
      });  
      //put the names into the image
      //dispaly all the images
    
    }
    
    
    //print Image////////////////////////////////////
    function printImage(studentnames = 0, date = 0){
    
    var certificate = document.getElementById("certificate");
    var allName = [];
    if(studentnames == 0){
      allName = document.querySelectorAll(".students");
      var allStudents = [];
    
      //collect the names from user's input
      allName.forEach(elem => {
      allStudents.push(elem.value)
    });
    allName = allStudents; 
    
    }
    else{
      allName = studentnames;
    }
    
    var getDate = 0;
    if(date ==0){
    var getDate = document.getElementById("getDate").value;
    }
    else{
      getDate = date;
    }
    
    console.dir(allName);
    allName.forEach(elem => {
    
        //put the image..................(the name of the class of the element)
        var div = document.createElement('div');
        div.classList.add("divspace");
        var img = document.createElement("img");
    
        //element where to put the name
        var person = document.createElement("div");
        person.classList.add("mentoringNameP");
    
        //element where to put the date
        var date = document.createElement("div");
        date.classList.add("mentoringDateP");
    
    
        img.src = "pictures/mentoring.png";
        img.classList.add("mentoringImgeP");
        div.appendChild(img);
    
        //var name = document.getElementById("add_kid()_0").value;
        //put the name into person
        person.innerText = elem;
        console.dir(elem);
        div.appendChild(person);
    
        date.innerText = getDate;
        console.dir(getDate);
        div.appendChild(date);
    
        certificate.appendChild(div);
    
    });  
    //put the names into the image
    //dispaly all the images
    
    }
    ////////////////////////////////////////////////////
    
    //delete all the images
    function remove(){
    
      var result = document.getElementById("result");
      result.innerHTML = "";
    
    }
    
     function getID(){
       var emptyIndex = index.indexOf(-1);
       if (emptyIndex != -1){
         index[emptyIndex] = emptyIndex
         
         return emptyIndex
       } else {
       emptyIndex = index.length
       index.push(emptyIndex)
       return emptyIndex
         }
       }
    
    //print out the certificates
    function printContent(target){
      var restorepage = document.body.innerHTML;
      var printcontent = document.getElementById(target).innerHTML;
      document.body.innerHTML = printcontent;
      window.print();
      document.body.innerHTML = restorepage;
    }
    
    
    //clear the content and create a new image only content
    function clearbody(){
      var allName = document.querySelectorAll(".students");
      var allStudents = [];
    
      //collect the names from user's input
      allName.forEach(elem => {
        allStudents.push(elem.value)
      });
    
      var getDate = document.getElementById("getDate").value;
    
      document.body.innerHTML = "";
      document.body.innerHTML = `
      <div id="certificate"> 
      </div>`;
      printImage(allStudents,getDate);
    
    }
    
    </script>
<!--------------------------------------Header---------------------------------------------->
<div class="header">
  <a href="https://library.byui.edu/"><img src="pictures/lionlogo.jpg" alt="logo"></a>
  <h1>David O. McKay Libary</h1>
  <h2>Professional Development Certificatation</h2>
</div>
<!------------------------------------End of Header----------------------------------------->
<div class="topnav">
  <a href="excellence.html">Excellence</a>
  <a href="leadership.html">Leadership</a>
  <a href="mentoring.html">Mentoring</a>
  <a href="professionalism.html">Professionalism</a>
</div>
<!--------------------------------------Main----------------------------------------------->
<div class="row">
  <div class="leftcolumn">
    <div class="card">
      <h2>Mentoring Certificate</h2>
    </br>
  </hl>
    </br>
      <form action ="Your app script link here" method="post">
        <br/>
        <span><div id="kids">
        </br>
        Date : 
        <input type="text" class="getDate" id="getDate" name="date">
        <br/>
        Name :
          <input type="text" class="students" id="add_kid()_0" name="name">
          <input type="button" class="button buttonAdd" id="addbutton" onclick="addkid()" value="+" />
        </div></span>
        <br/>
      </form>
      <input type="submit" name="Submit" value="Submit" onclick="editImage()"/>
      <!--<input type="reset" name="Rest" value="Reset" onclick="remove()">-->
      <button class="resetBtn" onclick="window.location.reload();">Reset</button>
      <button class="printBtn" onclick="clearbody();">Print</button>
      <div id="certificate"> 

        </div>
    </br></br>
    </div>
  </div>
  <!----------------------------------------------------------------------------------------->
  <!----------------------------------Right Column------------------------------------------->
  <div class="rightcolumn">
    <div class="card">
        <div>
          <div>
            <a href="excellence.html">
            <img src="pictures/excellence.png" class="rightcolumnImg" alt="Excellence"></a></div>
          <div>
            <a href="leadership.html">
            <img src="pictures/leadership.png" class="rightcolumnImg" alt="Excellence"></a></div>
          <div>
            <a href="mentoring.html">
            <img src="pictures/mentoring.png" class="rightcolumnImg" alt="Excellence"></a></div>
        <div>
          <a href="professionalism.html">
            <img src="pictures/professionalism.png" class="rightcolumnImg" alt="Excellence"></a></div>
      <!--<p>Some text</p>-->
    </div>
  </div>
  <!----------------------------------------------------------------------------------------->
</div>
<!-------------------------------------------Footer------------------------------------------>
<footer class="footer">
  <p>
    This web page is not affiliated or supported by any institution <br />
    &copy; 2020 all rights reserved
  </p>
</footer>
<!----------------------------------------------------------------------------------------->
</body>
</html>
